<!doctype html><html dir=ltr lang=en data-theme class=html><head><title>Eugene Khvedchenya
|
OpenCV Tutorial - Part 6</title><meta charset=utf-8><meta name=generator content="Hugo 0.98.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=author content="Eugene Khvedchenya"><meta name=description content="A personal blog about Computer Vision, AI, Kaggle, Open-Source and research. You will never read this in books."><link rel=stylesheet href=/scss/main.min.b2e0cb07595e3519ab1193bb421914e06c0e26b0cc561fef23b3c6131d4d2ffa.css integrity="sha256-suDLB1leNRmrEZO7QhkU4GwOJrDMVh/vI7PGEx1NL/o=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.31b0a1f317f55c529a460897848c97436bb138b19c399b37de70d463a8bf6ed5.css integrity="sha256-MbCh8xf1XFKaRgiXhIyXQ2uxOLGcOZs33nDUY6i/btU=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/fontawesome.min.7d272de35b410fb165377550cdf9c4d3a80fbbcc961e111914e4d5c0eaf5729f.css integrity="sha256-fSct41tBD7FlN3VQzfnE06gPu8yWHhEZFOTVwOr1cp8=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/solid.min.55d8333481b07a08e07cf6f37319753a2b47e99f4c395394c5747b48b495aa9b.css integrity="sha256-VdgzNIGwegjgfPbzcxl1OitH6Z9MOVOUxXR7SLSVqps=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/regular.min.a7448d02590b43449364b6b5922ed9af5410abb4de4238412a830316dedb850b.css integrity="sha256-p0SNAlkLQ0STZLa1ki7Zr1QQq7TeQjhBKoMDFt7bhQs=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/fontawesome/css/brands.min.9ed75a5d670c953fe4df935937674b4646f92674367e9e66eb995bb04e821647.css integrity="sha256-ntdaXWcMlT/k35NZN2dLRkb5JnQ2fp5m65lbsE6CFkc=" crossorigin=anonymous type=text/css><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=canonical href=https://computer-vision-talks.com/post/2012-07-22-opencv-tutorial-part-6/><script type=text/javascript src=/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js integrity="sha256-+RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/anatole-theme-switcher.min.560a26330d27ff44a44e83b53cd07a95d4230a65930d31c5c76a8d481e5b35bf.js integrity="sha256-VgomMw0n/0SkToO1PNB6ldQjCmWTDTHFx2qNSB5bNb8=" crossorigin=anonymous></script><meta name=twitter:card content="summary"><meta name=twitter:title content="OpenCV Tutorial - Part 6"><meta name=twitter:description content="[toc] Hi folks! I’m glad to publish a sixth part of the OpenCV Tutorial cycle. In this post I will describe how to implement interesting non-photorealistic effect that makes image looks like a cartoon. It has numerous names: cartoon filter or simply “toon” also it known as rotoscoping. In addition we will refactor application interface and add tweeting feature to share your results across the web. According to the roadmap I promised to put the video recording module too, but due to lack of free time I decided to put it on hold for now."><meta property="og:title" content="OpenCV Tutorial - Part 6"><meta property="og:description" content="[toc] Hi folks! I’m glad to publish a sixth part of the OpenCV Tutorial cycle. In this post I will describe how to implement interesting non-photorealistic effect that makes image looks like a cartoon. It has numerous names: cartoon filter or simply “toon” also it known as rotoscoping. In addition we will refactor application interface and add tweeting feature to share your results across the web. According to the roadmap I promised to put the video recording module too, but due to lack of free time I decided to put it on hold for now."><meta property="og:type" content="article"><meta property="og:url" content="https://computer-vision-talks.com/post/2012-07-22-opencv-tutorial-part-6/"><meta property="article:section" content="post"><meta property="article:published_time" content="2012-07-22T00:00:00+00:00"><meta property="article:modified_time" content="2012-07-22T00:00:00+00:00"><meta property="og:site_name" content="Computer Vision Talks"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"post","name":"OpenCV Tutorial - Part 6","headline":"OpenCV Tutorial - Part 6","alternativeHeadline":"","description":"
      
        [toc] Hi folks! I’m glad to publish a sixth part of the OpenCV Tutorial cycle. In this post I will describe how to implement interesting non-photorealistic effect that makes image looks like a cartoon. It has numerous names: cartoon filter or simply “toon” also it known as rotoscoping. In addition we will refactor application interface and add tweeting feature to share your results across the web. According to the roadmap I promised to put the video recording module too, but due to lack of free time I decided to put it on hold for now.


      


    ","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/computer-vision-talks.com\/post\/2012-07-22-opencv-tutorial-part-6\/"},"author":{"@type":"Person","name":"Eugene Khvedchenya"},"creator":{"@type":"Person","name":"Eugene Khvedchenya"},"accountablePerson":{"@type":"Person","name":"Eugene Khvedchenya"},"copyrightHolder":{"@type":"Person","name":"Eugene Khvedchenya"},"copyrightYear":"2012","dateCreated":"2012-07-22T00:00:00.00Z","datePublished":"2012-07-22T00:00:00.00Z","dateModified":"2012-07-22T00:00:00.00Z","publisher":{"@type":"Organization","name":"Eugene Khvedchenya","url":"https://computer-vision-talks.com/","logo":{"@type":"ImageObject","url":"https:\/\/computer-vision-talks.com\/favicon-32x32.png","width":"32","height":"32"}},"image":[],"url":"https:\/\/computer-vision-talks.com\/post\/2012-07-22-opencv-tutorial-part-6\/","wordCount":"869","genre":[],"keywords":["opencv","xcode","tutorials"]}</script></head><body class="body theme--light"><div class=wrapper><aside class=wrapper__sidebar><div class="sidebar
animated fadeInDown"><div class=sidebar__content><div class=sidebar__introduction><img class=sidebar__introduction-profileimage src=/images/4ECfkGJr_400x400.jpg alt="profile picture"><div class=sidebar__introduction-title><a href=/>Computer Vision Talks</a></div><div class=sidebar__introduction-description><p>A personal blog about Computer Vision, AI, Kaggle, Open-Source and research. You will never read this in books.</p></div></div><ul class=sidebar__list><li class=sidebar__list-item><a href=https://www.linkedin.com/in/cvtalks/ target=_blank rel=noopener aria-label=Linkedin title=Linkedin><i class="fab fa-linkedin fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://twitter.com/cvtalks target=_blank rel=noopener aria-label=Twitter title=Twitter><i class="fab fa-twitter fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=https://github.com/BloodAxe target=_blank rel=noopener aria-label=GitHub title=GitHub><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li class=sidebar__list-item><a href=mailto:ekhvedchenya@computer-vision-talks.com target=_blank rel=noopener aria-label=E-Mail title=E-Mail><i class="fas fa-envelope fa-2x" aria-hidden=true></i></a></li></ul></div><footer class="footer footer__sidebar"><ul class=footer__list><li class=footer__item>&copy;
Eugene Khvedchenya
2022</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.9c062c557275acbaba71f0c7cd4024da3e3cc825d248bc4b2130811b0965330b.js integrity="sha256-nAYsVXJ1rLq6cfDHzUAk2j48yCXSSLxLITCBGwllMws=" crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-10687369-5","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></div></aside><main class=wrapper__main><header class=header><div class="animated fadeInDown"><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span>
<span aria-hidden=true class=navbar-burger__line></span></a><nav class=nav><ul class=nav__list id=navMenu><li class=nav__list-item><a href=/ title>Home</a></li><li class=nav__list-item><a href=/post/ title>Posts</a></li><li class=nav__list-item><a href=/open-source title>Open-Source</a></li><li class=nav__list-item><a href=/challenges title>Wins</a></li><li class=nav__list-item><a href=/publications title>Publications</a></li></ul><ul class="nav__list nav__list--end"><li class=nav__list-item><div class=themeswitch><a title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></li></ul></nav></div></header><div class="post
animated fadeInDown"><div class=post__content><h1>OpenCV Tutorial - Part 6</h1><ul class=post__meta><li class=post__meta-item><em class="fas fa-calendar-day post__meta-icon"></em>
<span class=post__meta-text>Sun, Jul 22, 2012</span></li><li class=post__meta-item><em class="fas fa-stopwatch post__meta-icon"></em>
<span class=post__meta-text>5-minute read</span></li></ul><p>[toc] Hi folks! I’m glad to publish a sixth part of the OpenCV Tutorial cycle. In this post I will describe how to implement interesting non-photorealistic effect that makes image looks like a cartoon. It has numerous names: cartoon filter or simply “toon” also it known as rotoscoping. In addition we will refactor application interface and add tweeting feature to share your results across the web. According to the roadmap I promised to put the video recording module too, but due to lack of free time I decided to put it on hold for now. To compensate this in this part I will demonstrate how to get Sepia effect using simple matrix multiplication. Don’t afraid, video recording will be added, but later. I think after part 9, when most of the samples will be optimized using ARM NEON I will add this feature.</p><p></p><h2 id=interface-improvements>Interface improvements</h2><p>I will never get tired to repeat that user experience is a top 1 priority for mobile apps. As a developer you have to think about users in the first order. Will the user be satisfied with your app or deletes it after using for 30 seconds – this depends only from you. I was unsatisfied with previous interface. Especially with those unintuitive icons and text labels. Many thanks for free icon packs where I got new toolbar icons for my app. With new interface I tried to make image and video views looks similar. The left toolbar button for image view responsible for selecting a photo; in the video mode I put a button that switches between front and back cameras to this position. The central place on a toolbar is taken by “options” button that shows the options for selected sample view (iPhone interface). The right button is a special action button that presents a list of action you can do: save image to album, tweet it or do anything else. Let’s take a look how our interface did evolved:</p><h3 id=iphone-interface-improvements>iPhone interface improvements</h3><p><img src=Screen-Shot-2012-07-23-at-3.12.49-PM.png alt title="Cartoon filter using Machine Eye"></p><h3 id=ipad-interface-improvements>iPad interface improvements</h3><p><img src=Screen-Shot-2012-07-23-at-3.14.26-PM-1024x815.png alt title="Sepia effect with Machine Eye"> To eliminate duplicate code for two processing modes (image and video) we introduce a base class to store common data for derived views:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-objectivec data-lang=objectivec><span class=line><span class=cl><span class=k>typedef</span> <span class=nf>void</span> <span class=p>(</span><span class=o>^</span><span class=n>TweetImageCompletionHandler</span><span class=p>)();</span> 
</span></span><span class=line><span class=cl><span class=k>typedef</span> <span class=nf>void</span> <span class=p>(</span><span class=o>^</span><span class=n>SaveImageCompletionHandler</span><span class=p>)();</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cp>#define kSaveImageActionTitle  @&#34;Save image&#34;
</span></span></span><span class=line><span class=cl><span class=cp>#define kComposeTweetWithImage @&#34;Tweet image&#34;
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=k>@interface</span> <span class=nc>BaseSampleViewController</span> : <span class=nc>UIViewController</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>@property</span> <span class=p>(</span><span class=k>readonly</span><span class=p>)</span> <span class=n>SampleBase</span> <span class=o>*</span> <span class=n>currentSample</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span> <span class=nf>configureView</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span> <span class=nf>setSample:</span><span class=p>(</span><span class=n>SampleBase</span><span class=o>*</span><span class=p>)</span> <span class=nv>sample</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span> <span class=nf>tweetImage:</span><span class=p>(</span><span class=n>UIImage</span><span class=o>*</span><span class=p>)</span> <span class=nv>image</span> <span class=nf>withCompletionHandler:</span> <span class=p>(</span><span class=n>TweetImageCompletionHandler</span><span class=p>)</span> <span class=nv>handler</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span> <span class=nf>saveImage:</span><span class=p>(</span><span class=n>UIImage</span><span class=o>*</span><span class=p>)</span> <span class=nv>image</span>  <span class=nf>withCompletionHandler:</span> <span class=p>(</span><span class=n>SaveImageCompletionHandler</span><span class=p>)</span> <span class=nv>handler</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>@end</span>
</span></span></code></pre></div><p>We will consider implementation of the tweetImage and saveImage function a little bit later. <strong>BaseSampleViewController</strong> has a public readonly property to current sample, and a special <strong>setSample</strong> function to change it. When a new sample is assigned it calls configureView to update the view title and perform other actions.</p><h3 id=action-sheet--easy-way-to-perform-typical-actions>Action sheet – easy way to perform typical actions</h3><p>You could notice that I’ve removed “Save” button from the toolbar. The main reason for this – I wanted to avoid adding “Tweet”, “Share”, “Save and email” buttons. All these actions should be grouped somewhere else. The ideal solution is to use <strong>UIActionSheet</strong> control that will present available actions. Using this class is very easy: First, you need to instantiate action sheet with a list of available actions. For our case it will looks like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-objectivec data-lang=objectivec><span class=line><span class=cl><span class=nb>self</span><span class=p>.</span><span class=n>actionSheet</span> <span class=o>=</span> <span class=p>[[</span><span class=n>UIActionSheet</span> <span class=n>alloc</span><span class=p>]</span> <span class=n>initWithtitle</span> <span class=o>=</span> <span class=s>@&#34;Actions&#34;</span> 
</span></span><span class=line><span class=cl>                                               <span class=nl>delegate</span><span class=p>:</span><span class=nb>self</span> 
</span></span><span class=line><span class=cl>                                      <span class=n>cancelButtontitle</span> <span class=o>=</span> <span class=s>@&#34;Cancel&#34;</span> 
</span></span><span class=line><span class=cl>                                 <span class=n>destructiveButtontitle</span> <span class=o>=</span> <span class=nb>nil</span> 
</span></span><span class=line><span class=cl>                                      <span class=nl>otherButtonTitles</span><span class=p>:</span><span class=n>kSaveImageActionTitle</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                                      <span class=n>kComposeTweetWithImage</span><span class=p>,</span> <span class=nb>nil</span><span class=p>];</span>
</span></span></code></pre></div><p>String constants kSaveImageActionTitle and kComposeTweetWithImage has corresponding values &ldquo;Save image&rdquo; and &ldquo;Tweet image&rdquo;. The key step when we instantiate action sheet - to specify a delegate that will handle interaction with this action sheet. To implement <strong>UIActionSheetDelegate</strong> protocol you must provide implementation at least for <strong>actionSheet:clickedButtonAtIndex:</strong> method:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-objectivec data-lang=objectivec><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>actionSheet:</span><span class=p>(</span><span class=n>UIActionSheet</span> <span class=o>*</span><span class=p>)</span><span class=nv>senderSheet</span> <span class=nf>clickedButtonAtIndex:</span><span class=p>(</span><span class=n>NSInteger</span><span class=p>)</span><span class=nv>buttonIndex</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>NSString</span> <span class=o>*</span> <span class=n>title</span> <span class=o>=</span> <span class=p>[</span><span class=n>senderSheet</span> <span class=nl>buttonTitleAtIndex</span><span class=p>:</span><span class=n>buttonIndex</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>title</span> <span class=o>==</span> <span class=n>kSaveImageActionTitle</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nb>self</span> <span class=nl>saveImage</span><span class=p>:</span><span class=nb>self</span><span class=p>.</span><span class=n>imageView</span><span class=p>.</span><span class=n>image</span> <span class=nl>withCompletionHandler</span><span class=p>:</span><span class=nb>nil</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>title</span> <span class=o>==</span> <span class=n>kComposeTweetWithImage</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nb>self</span> <span class=nl>tweetImage</span><span class=p>:</span><span class=nb>self</span><span class=p>.</span><span class=n>imageView</span><span class=p>.</span><span class=n>image</span> <span class=nl>withCompletionHandler</span><span class=p>:</span><span class=nb>nil</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Let&rsquo;s imagine we are running a video processing and decide to save image. We press actions button on a toolbar then tap on &ldquo;Save image&rdquo; button, but the video source continue generating new frames. Expected behavior in this case is to suspend processing. To do this we pause video source when action sheet is shown and resume when it dismissed. <strong>UIActionSheetDelegate</strong> provides a method <strong>willPresentActionSheet</strong> called before action sheet will appear:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-objectivec data-lang=objectivec><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>willPresentActionSheet:</span><span class=p>(</span><span class=n>UIActionSheet</span> <span class=o>*</span><span class=p>)</span><span class=nv>actionSheet</span><span class=p>;</span>  <span class=c1>// before animation and showing view
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=n>videoSource</span> <span class=n>stopRunning</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>So we pause video source when action sheet appears. To resume processing frames we will use <strong>actionSheet:clickedButtonAtIndex</strong> method. If clicked button index does not corresponds to known action we simply resume video source because action sheet will be dismissed soon. But if user ask to tweet or save image, we invoke corresponding method and resume video source only after this action is complete. Since tweeting involves presenting tweet compose view it&rsquo;s reasonable to pause all processing and continue when the all work is done.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-objectivec data-lang=objectivec><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>actionSheet:</span><span class=p>(</span><span class=n>UIActionSheet</span> <span class=o>*</span><span class=p>)</span><span class=nv>senderSheet</span> <span class=nf>clickedButtonAtIndex:</span><span class=p>(</span><span class=n>NSInteger</span><span class=p>)</span><span class=nv>buttonIndex</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>NSString</span> <span class=o>*</span> <span class=n>title</span> <span class=o>=</span> <span class=p>[</span><span class=n>senderSheet</span> <span class=nl>buttonTitleAtIndex</span><span class=p>:</span><span class=n>buttonIndex</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>title</span> <span class=o>==</span> <span class=n>kSaveImageActionTitle</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>UIImage</span> <span class=o>*</span> <span class=n>image</span> <span class=o>=</span> <span class=p>[</span><span class=n>UIImage</span> <span class=nl>imageWithMat</span><span class=p>:</span><span class=n>outputFrame</span><span class=p>.</span><span class=n>clone</span><span class=p>()</span> <span class=nl>andDeviceOrientation</span><span class=p>:[[</span><span class=n>UIDevice</span> <span class=n>currentDevice</span><span class=p>]</span> <span class=n>orientation</span><span class=p>]];</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nb>self</span> <span class=nl>saveImage</span><span class=p>:</span><span class=n>image</span> <span class=nl>withCompletionHandler</span><span class=p>:</span> <span class=o>^</span><span class=p>{</span> <span class=p>[</span><span class=n>videoSource</span> <span class=n>startRunning</span><span class=p>];</span> <span class=p>}];</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>title</span> <span class=o>==</span> <span class=n>kComposeTweetWithImage</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>UIImage</span> <span class=o>*</span> <span class=n>image</span> <span class=o>=</span> <span class=p>[</span><span class=n>UIImage</span> <span class=nl>imageWithMat</span><span class=p>:</span><span class=n>outputFrame</span><span class=p>.</span><span class=n>clone</span><span class=p>()</span> <span class=nl>andDeviceOrientation</span><span class=p>:[[</span><span class=n>UIDevice</span> <span class=n>currentDevice</span><span class=p>]</span> <span class=n>orientation</span><span class=p>]];</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nb>self</span> <span class=nl>tweetImage</span><span class=p>:</span><span class=n>image</span> <span class=nl>withCompletionHandler</span><span class=p>:</span><span class=o>^</span><span class=p>{</span> <span class=p>[</span><span class=n>videoSource</span> <span class=n>startRunning</span><span class=p>];</span> <span class=p>}];</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>else</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=n>videoSource</span> <span class=n>startRunning</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=sepia-negative-and-other-simple-effects>Sepia, negative and other simple effects</h2><h3 id=brightness-and-contrast-adjustments>Brightness and contrast adjustments</h3></div><div class=post__footer><span><a class=tag href=/tags/opencv/>opencv</a><a class=tag href=/tags/xcode/>xcode</a><a class=tag href=/tags/tutorials/>tutorials</a></span></div><div id=comment><h2>comments</h2><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//cvtalks.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></main></div><footer class="footer footer__base"><ul class=footer__list><li class=footer__item>&copy;
Eugene Khvedchenya
2022</li></ul></footer><script type=text/javascript src=/js/medium-zoom.min.9c062c557275acbaba71f0c7cd4024da3e3cc825d248bc4b2130811b0965330b.js integrity="sha256-nAYsVXJ1rLq6cfDHzUAk2j48yCXSSLxLITCBGwllMws=" crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-10687369-5","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>